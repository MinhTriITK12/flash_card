<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªá Th·ªëng Flashcard √în T·∫≠p</title>
    <link rel="icon" type="image/png" href="flashcard2.png">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <h1>üìö Flashcard Ghi Nh·ªõ Nhanh</h1>
        <div class="filters">
            <button class="filter-btn active" onclick="filterCards('all')">T·∫•t c·∫£</button>
            <button class="filter-btn" onclick="filterCards('To√°n')">To√°n</button>
            <button class="filter-btn" onclick="filterCards('Ti·∫øng Anh')">Ti·∫øng Anh</button>
            <button class="filter-btn" onclick="filterCards('Tin h·ªçc')">Tin h·ªçc</button>
        </div>
    </header>

    <section class="input-section">
        <div class="section-header">
            <h2>‚ûï Th√™m Flashcard M·ªõi</h2>
            <div class="data-controls">
                <button class="control-btn export-btn" onclick="exportData()" title="T·∫£i d·ªØ li·ªáu">üíæ Xu·∫•t</button>
                <button class="control-btn import-btn" onclick="document.getElementById('import-file').click()"
                    title="T·∫£i d·ªØ li·ªáu t·ª´ file">üìÇ Nh·∫≠p</button>
                <input type="file" id="import-file" style="display: none;" accept=".json" onchange="importData(event)">
            </div>
        </div>
        <div class="input-container">
            <select id="subject-select" class="input-field" onchange="updateLessons()">
                <option value="">-- Ch·ªçn m√¥n h·ªçc --</option>
                <option value="To√°n">To√°n</option>
                <option value="Ti·∫øng Anh">Ti·∫øng Anh</option>
                <option value="Tin h·ªçc">Tin h·ªçc</option>
            </select>
            <select id="lesson-select" class="input-field">
                <option value="">-- Ch·ªçn b√†i h·ªçc --</option>
            </select>
            <div id="question-input" class="input-field editable-div" contenteditable="true"
                data-placeholder="Nh·∫≠p c√¢u h·ªèi... (h·ªó tr·ª£ d√°n ·∫£nh/xu·ªëng d√≤ng)"></div>
            <div id="answer-input" class="input-field editable-div" contenteditable="true"
                data-placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi... (h·ªó tr·ª£ d√°n ·∫£nh/xu·ªëng d√≤ng)"></div>
            <button class="add-btn" onclick="addNewCard()">Th√™m Th·∫ª</button>
        </div>
    </section>

    <div class="app-tabs">
        <button class="tab-btn active" data-mode="learn" onclick="switchMode('learn')">Th·∫ª ghi nh·ªõ</button>
        <button class="tab-btn" data-mode="exam" onclick="switchMode('exam')">Thi th·ª≠</button>
    </div>

    <main class="main-area">
        <section id="lesson-selector" class="lesson-selector">
            <div class="lesson-selector-header">
                <h3>üìñ Ch·ªçn B√†i H·ªçc</h3>
                <button class="add-lesson-toggle-btn" onclick="toggleAddLessonForm()">‚ûï Th√™m B√†i</button>
            </div>

            <div id="add-lesson-form" class="add-lesson-form" style="display: none;">
                <h4>Th√™m B√†i H·ªçc M·ªõi</h4>
                <div class="lesson-input-container">
                    <select id="new-lesson-subject" class="lesson-input-field">
                        <option value="">-- Ch·ªçn m√¥n h·ªçc --</option>
                        <option value="To√°n">To√°n</option>
                        <option value="Ti·∫øng Anh">Ti·∫øng Anh</option>
                        <option value="Tin h·ªçc">Tin h·ªçc</option>
                    </select>
                    <input type="text" id="new-lesson-name" class="lesson-input-field"
                        placeholder="T√™n b√†i h·ªçc (vd: H√¨nh h·ªçc n√¢ng cao)">
                    <button class="lesson-add-btn" onclick="addNewLesson()">Th√™m</button>
                </div>
            </div>

            <div id="lesson-buttons" class="lesson-buttons">
                <!-- S·∫Ω ƒë∆∞·ª£c populate b·ªüi JS -->
            </div>

        </section>

        <section id="large-card-area" class="large-card-area">
            <div id="large-card" class="large-card-container">
                <div id="flip-card" class="flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="subject-tag"></div>
                            <div class="lesson-tag"></div>
                            <div class="question">Nh·∫•p v√†o ƒë·ªÉ b·∫Øt ƒë·∫ßu</div>
                            <div class="hint">üí° Nh·∫•p ƒë·ªÉ l·∫≠t | Space ƒë·ªÉ l·∫≠t | ‚Üê ‚Üí ƒë·ªÉ ƒëi·ªÅu h∆∞·ªõng</div>
                        </div>
                        <div class="flip-card-back">
                            <div class="subject-tag"></div>
                            <div class="lesson-tag"></div>
                            <div class="answer">C√¢u tr·∫£ l·ªùi s·∫Ω xu·∫•t hi·ªán t·∫°i ƒë√¢y</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="controls">
                <div class="left-controls">
                    <button class="icon-btn" onclick="prevCard()" title="Th·∫ª tr∆∞·ªõc">‚óÄ</button>
                    <div class="progress-indicator"><span id="current-index">1</span> / <span id="total-count">0</span>
                    </div>
                    <button class="icon-btn" onclick="nextCard()" title="Th·∫ª ti·∫øp">‚ñ∂</button>
                </div>

                <div class="right-controls">
                    <button class="icon-btn delete-card-btn" id="delete-current-btn" onclick="deleteCurrentCard()"
                        title="X√≥a th·∫ª n√†y">üóëÔ∏è</button>
                    <button class="icon-btn" id="play-btn" onclick="togglePlay()" title="T·ª± ƒë·ªông ph√°t">‚ñ∂</button>
                    <button class="icon-btn" id="shuffle-btn" onclick="toggleShuffle()" title="X√°o tr·ªôn">üîÄ</button>
                    <button class="icon-btn" onclick="toggleViewMode()" title="Xem danh s√°ch">üìã</button>
                    <button class="icon-btn" onclick="toggleFullscreen()" title="To√†n m√†n h√¨nh">‚õ∂</button>
                </div>
            </div>

            <div class="progress-bar-wrap">
                <div id="progress-bar" class="progress-bar"></div>
            </div>
        </section>

        <section id="grid-area" class="card-grid" style="display:none;">
            <!-- Grid render -->
        </section>

        <section id="exam-config-area"
            style="display:none; text-align:center; padding:30px; background:white; border-radius:10px; box-shadow:0 4px 12px rgba(0,0,0,0.1); margin-top:20px;">
            <h2 style="color:#2c3e50; margin-bottom: 20px;">üìö Ch·∫ø ƒë·ªô Thi th·ª≠ (M√¥ ph·ªèng Azota)</h2>
            <div style="margin-bottom: 20px;">
                <label for="exam-subject-select" style="font-weight:bold; color:#34495e; margin-right: 10px;">Ch·ªçn m√¥n
                    thi:</label>
                <select id="exam-subject-select" class="input-field"
                    style="width: auto; display: inline-block; padding: 10px; border-radius: 6px; border: 1px solid #ddd; padding-right: 30px;">
                    <option value="all">-- T·∫•t c·∫£ m√¥n h·ªçc --</option>
                    <option value="To√°n">To√°n</option>
                    <option value="Ti·∫øng Anh">Ti·∫øng Anh</option>
                    <option value="Tin h·ªçc">Tin h·ªçc</option>
                </select>
            </div>
            <p>Ch·ªçn s·ªë l∆∞·ª£ng c√¢u h·ªèi ng·∫´u nhi√™n ƒë·ªÉ b·∫Øt ƒë·∫ßu:</p>
            <div style="margin: 20px 0; display: flex; gap: 15px; justify-content: center;">
                <button class="control-btn" style="background:#3498db; color:white; padding:10px 25px;"
                    onclick="startExam(20)">20 C√¢u</button>
                <button class="control-btn" style="background:#3498db; color:white; padding:10px 25px;"
                    onclick="startExam(30)">30 C√¢u</button>
                <button class="control-btn" style="background:#3498db; color:white; padding:10px 25px;"
                    onclick="startExam(40)">40 C√¢u</button>
                <button class="control-btn" style="background:#3498db; color:white; padding:10px 25px;"
                    onclick="startExam(50)">50 C√¢u</button>
            </div>
        </section>

        <section id="exam-quiz-area"
            style="display:none; width:100%; max-width: 800px; margin: 20px auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
            <div
                style="display:flex; justify-content:space-between; align-items:center; border-bottom: 2px solid #eee; padding-bottom: 15px; margin-bottom: 20px;">
                <h3 style="margin:0;">üìù B√†i Thi Ng·∫´u Nhi√™n</h3>
                <h3 id="exam-timer" style="margin:0; color:#e74c3c;"></h3>
                <button class="control-btn" style="background:#95a5a6; color:white;" onclick="exitExam()">Tho√°t</button>
            </div>
            <div id="exam-questions-container" style="display:flex; flex-direction:column; gap:25px;"></div>
            <div style="text-align:center; margin-top: 30px; border-top: 2px solid #eee; padding-top: 20px;">
                <button id="submit-exam-btn" class="control-btn"
                    style="background:#27ae60; color:white; padding:12px 30px; font-size:1.1em;"
                    onclick="submitExam()">N·ªôp B√†i</button>
            </div>
        </section>

        <section id="exam-result-area"
            style="display:none; text-align:center; padding:30px; background:white; border-radius:10px; box-shadow:0 4px 12px rgba(0,0,0,0.1); margin-top:20px;">
            <h2>üìä K·∫øt qu·∫£ b√†i thi</h2>
            <h1 id="exam-score" style="color:#e74c3c; font-size: 3em; margin: 20px 0;"></h1>
            <p id="exam-feedback"></p>
            <div id="exam-review-container" style="margin-top: 20px; text-align: left;"></div>
            <button class="control-btn" style="background:#3498db; color:white; padding:10px 25px; margin-top:20px;"
                onclick="exitExam()">Tho√°t Thi Th·ª≠</button>
        </section>

        <section id="list-area" class="card-list-area" style="display:none;">
            <div class="list-header">
                <h3>üìã Danh S√°ch Flashcard</h3>
                <button class="close-list-btn" onclick="toggleViewMode()">‚úï</button>
            </div>
            <div id="list-container" class="list-container">
                <!-- S·∫Ω ƒë∆∞·ª£c populate b·ªüi JS -->
            </div>
        </section>
    </main>

    <script src="scipt.js"></script>
</body>

</html>